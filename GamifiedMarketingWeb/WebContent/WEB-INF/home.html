<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<title>Gamified Marketing</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet"
	href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body, h1, h2, h3, h4, h5 {
	font-family: "Raleway", sans-serif
}

input {
	text-align: center;
}
</style>
<body class="w3-light-grey">


	<!-- w3-content defines a container for fixed size centered content,
and is wrapped around the whole page content, except for the footer in this example -->
	<div class="w3-content" style="max-width: 1400px">

		<!-- Header -->
		<header class="w3-container w3-center w3-padding-32">
			<h1>
				<b>GAMIFIED MARKETING</b>
			</h1>
			<p class="w3-tag"
				th:text="${'Welcome back ' + session.user.getUsername() + '!'}"></p>
		</header>

		<div class="w3-row">

			<div class="w3-col l8 s12">

				<div class="w3-card-4 w3-margin w3-white">

					<img
						th:src="*{'data:image/png;base64,'+ session.product.getImageData()}"
						style="width: 100%">

					<div class="w3-container">

						<h5>
							<b>Product of the day:</b>
						</h5>

						<h2>
							<b><p th:text="${session.product.getName()}"></p></b>
						</h2>

					</div>
				</div>

			</div>

			<div class="w3-col l4">

				<div class="w3-card-4 w3-margin">

					<div class="w3-row">
						<div class="w3-col s4" th:if="${!session.hideQuestionnaireButton}">
							<div class="w3-container w3-padding-32 w3-center">
								<form action="questionnaire" method="GET">
									<input class="w3-button w3-grey" type="submit"
										name="Questionnaire" value="Questionnaire">
								</form>
							</div>
						</div>

						<div class="w3-col s4">
							<div class="w3-container w3-padding-32 w3-center">
								<form action="leaderboard" method="GET">
									<input class="w3-button w3-grey" type="submit"
										name="Leaderboard" value="Leaderboard">
								</form>
							</div>
						</div>
						<div class="w3-col s4">
							<div class="w3-container w3-padding-32 w3-center">
								<form action="logout" method="GET">
									<input class="w3-button w3-grey" type="submit" name="Log Out"
										value="Log Out">
								</form>
							</div>
						</div>
					</div>

				</div>

				<div class="w3-card-4 w3-margin">

					<div class="w3-container w3-padding-32">

						<h4>
							<b>Reviews</b>
						</h4>

						<form action="review" method="POST"
							th:if="${!session.hideReviewButton}">
							<p>
								We appreciate your opinion. Leave your review:<br>
								<textarea name="review_content" rows="3" maxlength="200"
									style="width: 100%"></textarea>
							</p>

							<input
								class="w3-button w3-grey w3-padding-large w3-margin-bottom"
								type="submit" name="Save" value="Save">
						</form>

						<h4>
							<b>By other users:</b>
						</h4>

						<u1 class="w3-ul w3-hoverable w3-white"
							th:each="review : ${session.product.getReviews()}">
						<li class="w3-padding-16 w3-white"><p
								th:text="${'By ' + review.getUser().getUsername() + ': ' + review.getContent()}"></p></li>
						</u1>

					</div>
				</div>
			</div>

		</div>

	</div>

</body>
</html>